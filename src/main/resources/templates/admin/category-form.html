<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <div th:replace="~{fragments/admin/header :: header-css}"></div>
    <title th:text="${isEdit ? 'Chỉnh sửa Danh mục' : 'Thêm Danh mục Mới'}"></title>
</head>
<body class="layout-fixed sidebar-expand-lg">
<div class="app-wrapper"> 

	<div th:replace="~{fragments/admin/header :: header}"></div>
	
	<div th:replace="~{admin/home :: sidebar}"></div>

	<main class="app-main">
		<div class="app-content-header">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-6"><h3 class="mb-0" th:text="${isEdit ? 'Chỉnh sửa Danh mục' : 'Thêm Danh mục Mới'}"></h3></div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-end">
                            <li class="breadcrumb-item"><a th:href="@{/admin/home}">Home</a></li>
                            <li class="breadcrumb-item"><a th:href="@{/admin/categories}">Danh mục</a></li>
                            <li class="breadcrumb-item active" aria-current="page" th:text="${isEdit ? 'Chỉnh sửa' : 'Tạo mới'}"></li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="app-content">
            <div class="container-fluid">
				<div class="card card-primary">
					<div class="card-header">
						<h3 class="card-title" th:text="${isEdit ? 'Thông tin: ' + category.name : 'Nhập thông tin'}"></h3>
					</div>
					
					<form th:action="@{/admin/categories}" th:object="${category}"
						method="post">
						
						<div class="card-body">
							<input type="hidden" th:field="*{id}" th:if="${isEdit}" />

							<div class="mb-3">
								<label for="name" class="form-label">Tên Danh mục</label> <input
									type="text" th:field="*{name}" class="form-control" id="name"
									required>
							</div>

							<div class="mb-3">
								<label for="slug" class="form-label">Slug</label> <input type="text"
									th:field="*{slug}" class="form-control" id="slug" required>
							</div>

							<div class="mb-3">
								<label for="parentCategory" class="form-label">Danh mục Cha</label>
								<select th:field="*{parent.id}" class="form-select"
									id="parentCategory">
									<option value="">-- Chọn Danh mục Cha (ROOT) --</option>
									<option th:each="pCat : ${parentCategories}" th:value="${pCat.id}"
										th:text="${pCat.name}" th:unless="${pCat.id == category.id}">Danh
										mục cha</option>
								</select> 
								</div>

							<div class="mb-3">
								<label for="sortOrder" class="form-label">Thứ tự sắp xếp</label> <input
									type="number" th:field="*{sortOrder}" class="form-control"
									id="sortOrder" required>
							</div>

							<div class="mb-3 form-check">
								<input type="checkbox" th:field="*{active}" class="form-check-input"
									id="active"> 
								<label class="form-check-label" for="active">Hoạt
									động</label>
							</div>
						</div>
						
						<div class="card-footer">
							<button type="submit" class="btn btn-primary"
								th:text="${isEdit ? 'Cập nhật' : 'Thêm Danh mục'}"></button>
							<a th:href="@{/admin/categories}" class="btn btn-secondary">Hủy</a>
						</div>
					</form>
				</div>
            </div>
        </div>
    </main>

	<div th:replace="~{fragments/admin/footer :: footer}"></div>
	
</div> <div th:replace="~{fragments/admin/footer :: footer-scripts}"></div>
<script th:replace="~{admin/home :: script-active-sidebar}"></script>

</body>
</html>